(self.webpackChunktradingview=self.webpackChunktradingview||[]).push([[42261],{787703:(t,e,s)=>{"use strict";s.r(e),s.d(e,{isThemeExist:()=>c,loadTheme:()=>n,loadThemes:()=>a,removeTheme:()=>l,saveTheme:()=>h});var o=s(120780);const i=(0,s(201089).getLogger)("Themes.Provider");let r=null;function n(t){return(0,o.fetch)("/theme/?themeName="+encodeURIComponent(t),{credentials:"include",method:"GET"}).then((t=>t.json())).then((t=>{const e={};return t.content&&(e.content=JSON.parse(t.content)),e}))}function a(){return r||(0,o.fetch)("/themes/",{credentials:"include",method:"GET"}).then((t=>(r=t.json(),r)))}function h(t,e){const s=new FormData;return s.append("content",JSON.stringify(e)),s.append("name",t),r=null,(0,o.fetch)("/save-theme/",{credentials:"include",method:"POST",body:s}).then((t=>t.json()),(t=>i.logError(t)))}function l(t){const e=new FormData;return e.append("name",t),r=null,(0,o.fetch)("/remove-theme/",{credentials:"include",method:"POST",body:e}).then((t=>t.json()),(t=>i.logError(t)))}function c(t){return n(t).then((t=>Boolean(t.content)))}},278855:(t,e,s)=>{"use strict";function o(){return/(?:^|;)\s*theme=(dark|light)(?:;|$)|$/.exec(document.cookie)[1]}function i(t){const e=function(){const t=location.hostname.split(".").filter(Boolean);return t.every(isFinite)?location.host:t.slice(-2).join(".")}(),s=void 0===t?-1:3e8;document.cookie=`theme=${t};path=/;domain=${e};max-age=${s}`}s.d(e,{getThemeFromCookie:()=>o,setThemeToCookie:()=>i})},538660:(t,e,s)=>{"use strict";s.d(e,{ChartSession:()=>l});var o=s(707957),i=s(650151),r=s(401580),n=s(541558);const a=(0,s(201089).getLogger)("ChartApi.AbstractSession");var h=s(389137);class l extends class{constructor(t,e,s){this._isConnected=new r.WatchedValue(!1),this._state=0,this._isConnectForbidden=!1,this._sessionId="",this._sessionIdChanged=new o.Delegate,this._chartApi=t,this._sessionPrefix=e,this._shouldReconnectAfterCriticalError=s}destroy(){this._logNormal("Destroying session"),this._isConnected.unsubscribe(),this.disconnect(),this._sessionIdChanged.destroy(),delete this._chartApi,this._logNormal("Session has been destroyed")}isConnected(){return this._isConnected}sessionId(){return this._sessionId}onSessionIdChanged(){return this._sessionIdChanged}connect(){0===this._state&&((0,i.assert)(!this._isConnectForbidden,"Cannot call connect because it is forbidden at this moment"),this._setSessionId(`${this._sessionPrefix}_${(0,n.randomHash)()}`),this._logNormal("Connecting session - wait until transport stay connected"),this._state=1,this._chartApi.createSession(this._sessionId,this))}disconnect(){0!==this._state&&((0,i.assert)(""!==this._sessionId,"sessionId must not be invalid"),this._logNormal("Disconnecting session..."),this._forbidConnectWhile((()=>{this._chartApi.connected()&&this._sendRemoveSession(),this._processDestroyingOnServer()})))}onMessage(t){switch(t.method){case"connected":return void this._onChartApiConnected();case"disconnected":return void this._onChartApiDisconnected();case"critical_error":const e=String(t.params[0]),s=String(t.params[1])
;return void this._onCriticalError(e,s)}this._onMessage(t)}serverTime(){return this._chartApi.serverTime()}_getChartApi(){return this._chartApi}_generateLogMessage(t){return`[${this._sessionId}] ${t}`}_onCriticalError(t,e){this._logError(`Critical error. Reason=${t}, info=${e}.`),this._forbidConnectWhile((()=>{this._processDestroyingOnServer()})),this._shouldReconnectAfterCriticalError?(this._logNormal("Reconnecting after critical error..."),this.connect()):this._logNormal("Reconnecting after critical error skipped")}_onChartApiConnected(){(0,i.assert)(1===this._state,"Session is not registered"),this._logNormal("Transport is connected. Creating session on the server"),this._sendCreateSession(),this._state=2,this._isConnected.setValue(!0)}_onChartApiDisconnected(){this._logNormal("Transport is disconnected. Reconnecting..."),this._forbidConnectWhile((()=>{this._processDestroyingOnServer()})),this.connect()}_setSessionId(t){const e=this._sessionId;this._logNormal(`Changing sessionId: old=${e}, new=${t}`),this._sessionId=t,this._sessionIdChanged.fire(t,e)}_logNormal(t){a.logNormal(this._generateLogMessage(t))}_logError(t){a.logError(this._generateLogMessage(t))}_processDestroyingOnServer(){this._state=0,this._isConnected.setValue(!1),this._chartApi.removeSession(this._sessionId),this._setSessionId("")}_forbidConnectWhile(t){this._isConnectForbidden=!0,t(),this._isConnectForbidden=!1}}{constructor(t,e=!1){super(t,"cs",!1),this._sessionDisabled=!1,this._handler=null,this._criticalError=new o.Delegate,this._symbolResolveMap=new Map,this._lastSymbolResolveInfoMap=new Map,this._disableStatistics=e}destroy(){this._criticalError.destroy(),this._handler=null,this._symbolResolveMap.clear(),super.destroy()}switchTimezone(t){return this._getChartApi().switchTimezone(this.sessionId(),t)}defaultResolutions(){return this._getChartApi().defaultResolutions()}availableCurrencies(){return this._getChartApi().availableCurrencies()}availableUnits(){return this._getChartApi().availableUnits()}availablePriceSources(t){return this._getChartApi().availablePriceSources(t)}resolveSymbol(t,e,s){if(this._symbolResolveMap.has(e)){const[t,o]=this._symbolResolveMap.get(e);return Array.isArray(o)?o.push(s):o.then(s),t}{const o=[s];return this._getChartApi().resolveSymbol(this.sessionId(),t,e,(s=>{if("symbol_error"===s.method)this._symbolResolveMap.delete(e);else{this._symbolResolveMap.set(e,[t,Promise.resolve(s)]);const[,o]=s.params,i={pro_name:o.pro_name,ticker:o.ticker};this._lastSymbolResolveInfoMap.set(e,i),i.pro_name&&this._lastSymbolResolveInfoMap.set(i.pro_name,i),o.full_name&&this._lastSymbolResolveInfoMap.set(o.full_name,i),i.ticker&&this._lastSymbolResolveInfoMap.set(i.ticker,i)}o.forEach((t=>t(s)))})),this._symbolResolveMap.set(e,[t,o]),t}}requestFirstBarTime(t,e,s){return this._getChartApi().requestFirstBarTime(this.sessionId(),t,e,s)}lastSymbolResolveInfo(t){var e;return null!==(e=this._lastSymbolResolveInfoMap.get(t))&&void 0!==e?e:null}createSeries(t,e,s,o,i,r,n){return this._getChartApi().createSeries(this.sessionId(),t,e,s,o,i,r,n)}
modifySeries(t,e,s,o,i,r,n){return this._getChartApi().modifySeries(this.sessionId(),t,e,s,o,i,r,n)}removeSeries(t){return!!this.isConnected().value()&&this._getChartApi().removeSeries(this.sessionId(),t)}requestMoreData(t,e,s){return"number"==typeof t?this._getChartApi().requestMoreData(this.sessionId(),t):this._getChartApi().requestMoreData(this.sessionId(),t,e,s)}requestMoreTickmarks(t,e,s){return(0,h.isNumber)(t)?this._getChartApi().requestMoreTickmarks(this.sessionId(),t):this._getChartApi().requestMoreTickmarks(this.sessionId(),t,e,s)}canCreateStudy(t,e){return this._getChartApi().canCreateStudy(this.sessionId(),t,e)}getStudyCounter(){return this._getChartApi().getStudyCounter(this.sessionId())}getFundamentalCounter(){return this._getChartApi().getFundamentalCounter(this.sessionId())}createStudy(t,e,s,o,i,r,n){return this._getChartApi().createStudy(this.sessionId(),t,e,s,o,i,r,n)}modifyStudy(t,e,s,o,i){return this._getChartApi().modifyStudy(this.sessionId(),t,e,s,o,i)}removeStudy(t){return this._getChartApi().removeStudy(this.sessionId(),t)}createPointset(t,e,s,o,i,r){return this._getChartApi().createPointset(this.sessionId(),t,e,s,o,i,r)}modifyPointset(t,e,s,o){return this._getChartApi().modifyPointset(this.sessionId(),t,e,s,o)}removePointset(t){return this._getChartApi().removePointset(this.sessionId(),t)}setVisibleTimeRange(t,e,s,o,i,r){0}criticalError(){return this._criticalError}connect(t=null){null!==t&&(this._handler=t),this._symbolResolveMap.clear(),super.connect()}setHandler(t){this._handler=t}connected(){return this.isConnected().value()&&!this._sessionDisabled}disable(){this._sessionDisabled=!0}chartApi(){return this._getChartApi()}_sendCreateSession(){Object.keys(this).forEach((t=>{/^(s|st|symbol_)\d+$/.test(t)&&delete this[t]})),this._getChartApi().chartCreateSession(this.sessionId(),this._disableStatistics)}_sendRemoveSession(){this._getChartApi().chartDeleteSession(this.sessionId())}_onMessage(t){this._handler&&this._handler(t)}_onCriticalError(t,e){this._criticalError.fire(t,e),super._onCriticalError(t,e)}}},245302:(t,e,s)=>{"use strict";s.d(e,{parseTzOffset:()=>i});var o=s(988124);function i(t,e=Date.now()){const s=(0,o.get_timezone)(t).offset_utc(e);let i="";const r=s/1e3/60/60;r%1&&(i=":"+Math.round(Math.abs(r%1*60)).toString().padStart(2,"0"));let n="";return n=r>0?"+"+(r-r%1)+i:0===r?"":String(r-r%1+i),{offset:s,string:"UTC"+n}}},228018:(t,e,s)=>{"use strict";s.d(e,{clientSnapshot:()=>A,widgetClientSnapshot:()=>R});var o,i,r=s(871934),n=s(650151),a=s(86441),h=s(724377),l=s(86746),c=s(674981),d=s(199471),u=s(422333),m=s(511131),_=s(429874),g=s(934976),f=(s(244842),s(776351));const p=Boolean(null===(i=null===(o=window.initData)||void 0===o?void 0:o.logo)||void 0===i?void 0:i.no_powered_by);function v(t,e=null,s=null){let o={};if("number"==typeof t)return{relativePositions:{[t]:{l:e,t:s}},nextElementLeft:t,nextElementTop:t};const[i,...r]=t;if("v"===i){let t=null;for(const i of r){const r=v(i,e,s);o={...o,...r.relativePositions},s=r.nextElementTop,t=r.nextElementLeft}e=t}if("h"===i){let t=null
;for(const i of r){const r=v(i,e,s);o={...o,...r.relativePositions},e=r.nextElementLeft,t=r.nextElementTop}s=t}return{relativePositions:o,nextElementTop:s,nextElementLeft:e}}const C=function(t){const e={};for(const s of Object.keys(t)){const o=v(t[s]).relativePositions;e[s]=o}return e}(g);function S(t,e,s,o){let i=Math.round(10*o),r=Math.round(10*o);const n=s[t];if(null!==n.l){const t=S(n.l,e,s,o);i=t.x+t.width+Math.round(5*o)}if(null!==n.t){const t=S(n.t,e,s,o);r=t.y+t.height+Math.round(5*o)}const a=e[t];return{x:i,y:r,width:a.width,height:a.height}}function b(t,e,s){var o;const i=(new DOMParser).parseFromString(f,"image/svg+xml");null===(o=null==i?void 0:i.firstElementChild)||void 0===o||o.setAttribute("color",s);const r=URL.createObjectURL(new Blob([(new XMLSerializer).serializeToString(i)],{type:"image/svg+xml"}));return new Promise((s=>{const o=new Image;o.width=t,o.height=e,o.onload=()=>{s({image:o,width:t,height:e})},o.src=r}))}function x(t,e,s,o,i){t.save(),t.drawImage(o.image,e,s,o.width,o.height),t.textBaseline="bottom";const r=(e+o.width)/i+3,n=(s+o.height)/i;(0,d.drawScaled)(t,i,i,(()=>{t.fillText("TradingView",r,n)})),t.restore()}function y(t,e,s,o){return(0,d.drawScaled)(t,o,o,(()=>{t.fillText(s,e.x/o,e.y/o)})),t.measureText(s).width*o}function w(t,e,s,o,i,r){const n=i.map((t=>t.text)).join("");let h=s.x;const l=function(t,e,s,o){if(t.measureText(e).width*o<=s)return{text:e,elided:!1};const i=t.measureText("...").width*o,r=[];for(let t=0;t<e.length;++t)r.push(t);const n=(0,c.upperbound)(r,s,((r,n)=>t.measureText(e.slice(0,n+1)).width*o+i>s));return{text:(e=e.slice(0,n)).trim(),elided:!0}}(t,n,o-h,e);if(l.elided&&!r)return null;const d=[];let u=0;for(const t of i){if(u+t.text.length>l.text.length)break;d.push(t.text),u+=t.text.length}const m=d.join("").trim().length;u=0;for(const o of i){if(u+o.text.length>m)break;o.color&&(t.save(),t.fillStyle=o.color),h+=y(t,new a.Point(h,s.y),o.text,e),o.color&&t.restore(),u+=o.text.length}return l.elided&&(h+=y(t,new a.Point(h,s.y),"...",e)),h}function T(t){return t.map((t=>({...t,title:""})))}function M(t,e){const s=[{text:t.trim()}];for(const t of e)t.visible&&(""!==s[s.length-1].text&&s.push({text:"  "}),t.title&&s.push({text:t.title}),s.push({text:t.value,color:t.color}));return s}class F{constructor(t,e){this._logoTextColor=null,this._snapshotData=t,e=e||{},this._options={backgroundColor:_.themes[t.theme].getThemedColor("color-bg-primary"),borderColor:_.themes[t.theme].getThemedColor("color-border"),font:u.CHART_FONT_FAMILY,fontSize:12,legendMode:"vertical",hideResolution:!1,showHeaderPublishedBy:!1,showHeaderMainSymbol:!1,...e};const s=C[t.layout],o=t.charts.map((t=>function(t){const e=t.panes[0],s=e.canvas.width+e.leftAxis.canvas.width+e.rightAxis.canvas.width;let o=0;for(const e of t.panes)o+=e.canvas.height;return void 0!==t.timeAxis&&0!==t.timeAxis.contentHeight&&(o+=t.timeAxis.canvas.height),(0,r.size)({width:s,height:o})}(t)));if(this._pixelRatio=t.hidpiRatio,this._chartsGeometry=t.charts.map(((t,e)=>S(e,o,s,this._pixelRatio))),!p){let s=t.theme
;void 0!==e.backgroundColor&&(s="black"===(0,h.rgbToBlackWhiteString)((0,h.parseRgb)(e.backgroundColor),150)?l.StdTheme.Dark:l.StdTheme.Light),this._logoTextColor=_.themes[s].getThemedColor("color-text-primary")}this._headerDefaultTextColor=_.themes[t.theme].getThemedColor("color-text-primary")}async getImage(){const t=this._pixelRatio;let e=0,s=0,o=0;const i=this._headerItems();if(i.length>0){o=Math.ceil(1.4*this._options.fontSize*t)*i.length}s+=o;let n=0,h=0;for(const t of this._chartsGeometry)n=Math.max(n,t.x+t.width),h=Math.max(h,t.y+t.height);const l=s;e+=n,s+=h,e+=Math.round(10*t);const c=p?Math.round(10*t):Math.round(35*t),_=s;s+=c;const g=(0,d.createDisconnectedCanvas)(document,(0,r.size)({width:e,height:s}),1),f=(0,d.getContext2D)(g);f.font=(0,m.makeFont)(this._options.fontSize,this._options.font),f.textBaseline="top",f.fillStyle=this._options.backgroundColor,f.fillRect(0,0,e,s),i.length>0&&this._drawHeader(f,i,e,new a.Point(Math.round(10*t),Math.round(10*t)));for(let t=0;t<this._snapshotData.charts.length;++t){const e=this._snapshotData.charts[t],s=this._chartsGeometry[t];this._drawChart(e,s,f,new a.Point(0,l))}if(null!==this._logoTextColor){const e=await b(Math.round(20*t),Math.round(15*t),this._logoTextColor);f.fillStyle=this._logoTextColor,f.font=(0,m.makeFont)(13,u.CHART_FONT_FAMILY);const s=_+Math.round(c/2-e.height/2);x(f,Math.round(10*t),s,e,t)}return g}_drawChart(t,e,s,o){s.save(),s.translate(e.x+o.x,e.y+o.y);let i=0;for(const e of t.panes){let o=0;const r=e.leftAxis.canvas.width+Math.round(8*this._pixelRatio),n=i,h=i+Math.round(10*this._pixelRatio);e.leftAxis.contentWidth>0&&e.leftAxis.contentHeight>0&&(s.drawImage(e.leftAxis.canvas,o,i),o+=e.leftAxis.canvas.width),s.drawImage(e.canvas,o,i),o+=e.canvas.width,e.rightAxis.contentWidth>0&&e.rightAxis.contentHeight>0&&s.drawImage(e.rightAxis.canvas,o,i),"pane"===e.type&&(s.fillStyle=t.colors.text,this._drawLegend(e,s,new a.Point(r,h),n)),i+=e.canvas.height}if(void 0!==t.timeAxis&&0!==t.timeAxis.contentHeight){let e=0;t.timeAxis.lhsStub.contentWidth>0&&t.timeAxis.lhsStub.contentHeight>0&&(s.drawImage(t.timeAxis.lhsStub.canvas,e,i),e+=t.timeAxis.lhsStub.canvas.width),s.drawImage(t.timeAxis.canvas,e,i),e+=t.timeAxis.canvas.width,t.timeAxis.rhsStub.contentWidth>0&&t.timeAxis.rhsStub.contentHeight>0&&s.drawImage(t.timeAxis.rhsStub.canvas,e,i)}s.strokeStyle=this._options.borderColor,s.strokeRect(0,0,e.width,e.height),s.restore()}_headerItems(){var t,e,s,o;const i=[];if(this._options.showHeaderPublishedBy&&this._snapshotData.publishedBy)for(const t of this._snapshotData.publishedBy)i.push([{text:t}]);if(this._options.showHeaderMainSymbol){const r=this._snapshotData.charts[0],n=`${null===(t=r.meta)||void 0===t?void 0:t.symbol}, ${null===(e=r.meta)||void 0===e?void 0:e.resolution}`;i.push(M(n,null!==(o=null===(s=r.meta)||void 0===s?void 0:s.values)&&void 0!==o?o:[]))}return i}_drawHeader(t,e,s,o){t.save(),t.fillStyle=this._headerDefaultTextColor;const i=Math.ceil(1.4*this._options.fontSize*this._pixelRatio);e.forEach(((e,r)=>{
w(t,this._pixelRatio,new a.Point(o.x,o.y+i*r),s,e,!0)})),t.restore()}_drawLegend(t,e,s,o){let i=!0;const r=Math.ceil(1.4*this._options.fontSize*this._pixelRatio);let h=s.x,l=s.y;if(t.mainSeriesText&&l+r<o+t.canvas.height){const s=w(e,this._pixelRatio,new a.Point(h,l),t.contentWidth*this._pixelRatio,M(t.mainSeriesText,t.mainSeriesValues),!0);"horizontal"!==this._options.legendMode?l+=r:(h=(0,n.ensureNotNull)(s)+1.4*this._options.fontSize*this._pixelRatio,i=!1)}for(let n=0;n<t.studies.length;++n)if(l+r<o+t.canvas.height){const o=t.studies[n],c=t.studiesValues[n];let d=null;for(;null===d;)d=w(e,this._pixelRatio,new a.Point(h,l),t.contentWidth*this._pixelRatio,M(o,T(c)),i),"horizontal"!==this._options.legendMode?l+=r:null===d?(i=!0,h=s.x,l+=r):(h=d+1.4*this._options.fontSize*this._pixelRatio,i=!1)}}}async function A(t,e){return new F(t,e).getImage()}class I{constructor(t,e){if(this._logoTextColor=null,this._widgetSnapshot=t,e=e||{},this._options={backgroundColor:_.themes[t.theme].getThemedColor("color-bg-primary"),borderColor:_.themes[t.theme].getThemedColor("color-border"),font:u.CHART_FONT_FAMILY,fontSize:12,showHeaderPublishedBy:!0,...e},this._pixelRatio=t.hidpiRatio,!p){let s=t.theme;void 0!==e.backgroundColor&&(s="black"===(0,h.rgbToBlackWhiteString)((0,h.parseRgb)(e.backgroundColor),150)?l.StdTheme.Dark:l.StdTheme.Light),this._logoTextColor=_.themes[s].getThemedColor("color-text-primary")}this._headerDefaultTextColor=_.themes[t.theme].getThemedColor("color-text-primary")}async getImage(){const t=this._pixelRatio,e=Math.round(10*t);let s=0,o=0,i=0;const n=this._headerItems();if(n.length>0){i=Math.ceil(1.4*this._options.fontSize*t)*n.length}o+=i;const h=o,l=this._widgetSnapshot.canvas.width,c=this._widgetSnapshot.canvas.height;s+=l+2*e,o+=c+e;const _=Math.round(35*t),g=o;o+=_;const f=(0,d.createDisconnectedCanvas)(document,(0,r.size)({width:s,height:o}),1),p=(0,d.getContext2D)(f);if(p.font=(0,m.makeFont)(this._options.fontSize,this._options.font),p.textBaseline="top",p.fillStyle=this._options.backgroundColor,p.fillRect(0,0,s,o),n.length>0&&this._drawHeader(p,n,s,new a.Point(e,e)),p.drawImage(this._widgetSnapshot.canvas,e,e+h),p.strokeStyle=this._options.borderColor,p.strokeRect(e,e+h,l,c),null!==this._logoTextColor){const s=await b(Math.round(20*t),Math.round(15*t),this._logoTextColor);p.fillStyle=this._logoTextColor,p.font=(0,m.makeFont)(13,u.CHART_FONT_FAMILY);x(p,e,g+Math.round(_/2-s.height/2),s,t)}return f}_headerItems(){const t=[];if(this._options.showHeaderPublishedBy&&this._widgetSnapshot.publishedBy)for(const e of this._widgetSnapshot.publishedBy)t.push([{text:e}]);return t}_drawHeader(t,e,s,o){t.save(),t.fillStyle=this._headerDefaultTextColor;const i=Math.ceil(1.4*this._options.fontSize*this._pixelRatio);e.forEach(((e,r)=>{w(t,this._pixelRatio,new a.Point(o.x,o.y+i*r),s,e,!0)})),t.restore()}}async function R(t,e){return new I(t,e).getImage()}},394905:(t,e,s)=>{"use strict";s.d(e,{ToastsFactory:()=>o});class o{constructor(t,e){this._chartToastsPromise=null,this._resizerBridge=t,
this._bottomToolbarOffsetHeightProvider=e}async getChartToasts(){return null!==this._chartToastsPromise||(this._chartToastsPromise=async function(){return Promise.all([Promise.all([s.e(47821),s.e(28128),s.e(8368),s.e(90385),s.e(43447),s.e(53088)]).then(s.bind(s,814284)),Promise.all([s.e(8368),s.e(90385),s.e(43447),s.e(94291)]).then(s.bind(s,13830))]).then((t=>[t[0].ChartToasts,t[1].globalToasts]))}().then((t=>{const e=t[0],s=t[1];return new e(this._resizerBridge,this._resizerBridge.container.value(),s,this._bottomToolbarOffsetHeightProvider())}))),this._chartToastsPromise}}},992543:(t,e,s)=>{"use strict";s.d(e,{dateFormatProperty:()=>h,restoreDateFormatSettingsValue:()=>l});var o=s(62802),i=s(152633),r=s(958067);const n="date_format";function a(){return o.getValue(n,(0,r.defaultDateFormat)())}const h=(0,i.createPrimitiveProperty)(a());function l(){h.setValue((0,r.defaultDateFormat)()),o.remove(n)}o.onSync.subscribe(null,(()=>h.setValue(a()))),h.subscribe(null,(()=>o.setValue(n,h.value())))},714688:(t,e,s)=>{"use strict";s.d(e,{DateTimeFormatter:()=>n});var o=s(716714),i=s(157954);const r={dateFormat:"yyyy-MM-dd",withWeekday:!1,timeFormat:o.hourMinuteSecondFormat,dateTimeSeparator:" "};class n{constructor(t={}){const e=Object.assign({},r,t);this._dateFormatter=new i.DateFormatter(e.dateFormat,e.withWeekday),this._timeFormatter=new o.TimeFormatter(e.timeFormat),this._separator=e.dateTimeSeparator}format(t){return`${this._dateFormatter.format(t)}${this._separator}${this._timeFormatter.format(t)}`}formatLocal(t){return`${this._dateFormatter.formatLocal(t)}${this._separator}${this._timeFormatter.formatLocal(t)}`}}},743354:(t,e,s)=>{"use strict";s.d(e,{DateTimeWithTzFormatter:()=>l});var o=s(245302),i=s(988124),r=s(716714),n=s(714688),a=s(157954);const h={dateFormat:"MMM dd",timeFormat:r.hourMinuteFormat};class l{constructor(t={}){const{dateFormat:e,timeFormat:s,timezone:o}={...h,...t};e&&s?this._dateFormatter=new n.DateTimeFormatter({dateFormat:e,timeFormat:s}):e?this._dateFormatter=new a.DateFormatter(e):s&&(this._dateFormatter=new r.TimeFormatter(s)),this._timezone=(0,i.get_timezone)(null!=o?o:"Etc/UTC")}format(t){const e=1e3*t,s=(0,o.parseTzOffset)(this._timezone.name(),e).string;return void 0===this._dateFormatter?s:`${this._dateFormatter.format((0,i.utc_to_cal)(this._timezone,e))} ${s}`}setTimezone(t){this._timezone=(0,i.get_timezone)(t)}}},716714:(t,e,s)=>{"use strict";s.d(e,{TimeFormatter:()=>u,hourMinuteFormat:()=>h,hourMinuteNonZeroSecondFormat:()=>n,hourMinuteSecondFormat:()=>r,hourMinuteSecondMillisecFormat:()=>a,twelveHourMinuteFormat:()=>d,twelveHourMinuteNonZeroSecondFormat:()=>c,twelveHourMinuteSecondFormat:()=>l});var o=s(551775),i=s(702053);const r="%h:%m:%s",n="%h:%m:%s+",a="%h:%m:%s.%ss+",h="%h:%m",l="%h:%m:%s %ampm",c="%h:%m:%s+ %ampm",d="%h:%m %ampm";class u{constructor(t){this._isTwelveHoursFormat=!1,this._valuesAndDelimeters=[];const e=t||r,s=new RegExp("%h|%m|%s\\+|%ss\\+|%ss|%ampm|%s","g");let o=s.exec(e),i=0;for(;null!==o;){const t=o[0];"%ampm"===t&&(this._isTwelveHoursFormat=!0)
;const r=e.substring(i,o.index);""!==r&&this._valuesAndDelimeters.push(r),this._valuesAndDelimeters.push(t),i=o.index+t.length,o=s.exec(e)}}format(t){return o.customFormatters.timeFormatter?o.customFormatters.timeFormatter.format(t):this._formatTime(t,!1)}formatLocal(t){return o.customFormatters.timeFormatter?o.customFormatters.timeFormatter.formatLocal?o.customFormatters.timeFormatter.formatLocal(t):o.customFormatters.timeFormatter.format(t):this._formatTime(t,!0)}_formatTime(t,e){let s=e?t.getHours():t.getUTCHours();const o=e?t.getMinutes():t.getUTCMinutes(),r=e?t.getSeconds():t.getUTCSeconds(),n=e?t.getMilliseconds():t.getUTCMilliseconds();let a="";this._isTwelveHoursFormat&&(a=s>=12?"PM":"AM",s%=12,s=s||12);let h="",l=!1;for(let t=this._valuesAndDelimeters.length-1;t>=0;t--){const e=this._valuesAndDelimeters[t];let c;switch(e){case"%h":c=(0,i.numberToStringWithLeadingZero)(s,2);break;case"%m":c=(0,i.numberToStringWithLeadingZero)(o,2);break;case"%s+":0!==r?c=(0,i.numberToStringWithLeadingZero)(r,2):(c="",l=!0);break;case"%s":c=(0,i.numberToStringWithLeadingZero)(r,2);break;case"%ss":c=(0,i.numberToStringWithLeadingZero)(n,3);break;case"%ss+":0!==n?c=(0,i.numberToStringWithLeadingZero)(n,3):(c="",l=!0);break;case"%ampm":c=a;break;default:if(l){l=!1;continue}c=e}h=c+h}return h}}},827023:(t,e,s)=>{"use strict";s.d(e,{restoreTimeHoursFormatSettingsValue:()=>h,timeHoursFormatProperty:()=>a});var o=s(62802),i=s(152633);const r="time_hours_format";function n(){return o.getValue(r,"24-hours")}const a=(0,i.createPrimitiveProperty)(n());function h(){a.setValue("24-hours"),o.remove(r)}o.onSync.subscribe(null,(()=>a.setValue(n()))),a.subscribe(null,(()=>o.setValue(r,a.value())))},464539:(t,e,s)=>{"use strict";s.d(e,{getHourMinuteFormat:()=>i,getHourMinuteSecondFormat:()=>r,getTimeFormatForInterval:()=>n});var o=s(716714);function i(t){return"12-hours"===t?o.twelveHourMinuteFormat:o.hourMinuteFormat}function r(t){return"12-hours"===t?o.twelveHourMinuteSecondFormat:o.hourMinuteSecondFormat}function n(t,e){if(t.isRange())return function(t){return"12-hours"===t?o.twelveHourMinuteNonZeroSecondFormat:o.hourMinuteNonZeroSecondFormat}(e);if(t.isTicks())return o.hourMinuteSecondMillisecFormat;return t.isSeconds()||t.isTicks()?r(e):i(e)}},776351:t=>{t.exports='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 36 28" width="36" height="28"><path fill="currentColor" d="M14 22H7V11H0V4h14v18zM28 22h-8l7.5-18h8L28 22z"/><circle fill="currentColor" cx="20" cy="8" r="4"/></svg>'}}]);